# 5.2 类的加载

## 类的加载

### loader

框架中通过loader对象加载Model，Task，View，Server运行实例包含一个全局loader对象，任何继承了PG\MSF\Base\Core类的子类中都可以通过$this->loader直接使用；另外也可以直接使用getInstance()->loader来调用该对象。

```php
<?php
function httpLoadModel()
{
    // 加载Feed模型
    $feed = $this->getLoader()->model(\App\Models\Feed::class, $this);

    // 加载Task
    $idTask = $this->getLoader()->task(\App\Tasks\Idallloc::class, $this);

    // 加载视图
    $this->getLoader()->view('config/page');
}
```

### 对象池加载

除了Model，Task，View是通过loader来加载，其他对象需要对象池的方式来加载。

如下示例：

```php
<?php
function httpLoadObject()
{
    // 获取Http Client
    $client = $this->getContext()->getObjectPool()->get(\PG\MSF\Client\Http\Client::class);
}
```

# links
  * [目录](<preface-目录.md>)
  * 上一节: [协程](<05.1-协程.md>)
  * 下一节: [异步Http Client](<05.3-异步Http Client.md>)